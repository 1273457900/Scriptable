{
  "always_run_in_app" : false,
  "icon" : {
    "color" : "cyan",
    "glyph" : "cloud-download-alt"
  },
  "name" : "2YaInstall",
  "script" : "\/\/ Variables used by Scriptable.\n\/\/ These must be at the very top of the file. Do not edit.\n\/\/ icon-color: brown; icon-glyph: download;\n\nconst scripts = [\n  {\n    moduleName: \"Env\",\n    url:\n      \"https:\/\/raw.githubusercontent.com\/GideonSenku\/Scriptable\/master\/Env.js\",\n  },\n  {\n    moduleName: \"2YaInstall\",\n    url:\n      \"https:\/\/raw.githubusercontent.com\/dompling\/Scriptable\/master\/2YaInstall.js\",\n  },\n  {\n    moduleName: \"Calendar\",\n    url:\n      \"https:\/\/raw.githubusercontent.com\/dompling\/Scriptable\/master\/birthdayCountDown\/Components\/Calendar.js\",\n  },\n  {\n    moduleName: \"Birthday\",\n    url:\n      \"https:\/\/raw.githubusercontent.com\/dompling\/Scriptable\/master\/birthdayCountDown\/index.js\",\n  },\n];\n\nclass YaYaInstall {\n  constructor() {\n    this.request = new Request(\"\");\n    this.files = FileManager.iCloud();\n    this.rootPath = this.files.documentsDirectory();\n    this.defaultHeaders = {\n      Accept: \"*\/*\",\n      \"Content-Type\": \"application\/json\",\n    };\n  }\n\n  saveFileName = (fileName) => {\n    const hasSuffix = fileName.lastIndexOf(\".\") + 1;\n    return !hasSuffix ? `${fileName}.js` : fileName;\n  };\n\n  write = (fileName, content) => {\n    let file = this.saveFileName(fileName);\n    const filePath = `${this.rootPath}\/${file}`;\n    FileManager.iCloud().writeString(filePath, content);\n    return true;\n  };\n\n  fetchUrlString = async ({ url, headers = {} }, callback = () => {}) => {\n    this.request.url = url;\n    this.request.method = \"GET\";\n    this.request.headers = {\n      ...headers,\n      ...this.defaultHeaders,\n    };\n    const data = await this.request.loadString();\n    callback(this.request.response, data);\n    return data;\n  };\n\n  saveFile = async ({ moduleName, url }) => {\n    const header = `\/\/ Variables used by Scriptable.\n  \/\/ These must be at the very top of the file. Do not edit.\n  \/\/ icon-color: deep-gray; icon-glyph: file-code;\\n`;\n    const content = await this.fetchUrlString({ url });\n    const fileHeader = content.includes(\"icon-color\") ? `` : header;\n    this.write(`${moduleName}`, `${fileHeader}${content}`);\n  };\n\n  install = () => {\n    console.log(\"🤖更新开始!\");\n    scripts.forEach(async (script) => {\n      await this.saveFile(script);\n    });\n    console.log(\"🤖更新结束!\");\n  };\n}\nnew YaYaInstall().install();\n",
  "share_sheet_inputs" : [

  ]
}